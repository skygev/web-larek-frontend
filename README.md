# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

##Документация

Применяемая архитектура и подход.

Архитектура проекта разрабатывается с использованием паттерна MVP, в котором основными слоями являются:

М (Data Model) модели данных, отвечают за работу с данными;
V (View) компоненты представления, отвечающие за отображение данных на экране;
P (Presenter) код презентера не будет выделен в отдельный класс, а будет содержаться в основном скрипте приложения Index.ts

Также в приложении есть коммуникационный слой api.ts и другие.

Ниже представлены описание данных, а также структура проекта, включая классы и их взаимодействие.

Архитектура проекта и описание UML

Основной функционал сайта
Отображение товаров:

Пользователь видит список товаров (карточки) с названием, категорией, изображением и ценой.
Корзина:

В верхнем правом углу сайта отображается значок корзины с динамическим счетчиком.
При нажатии на кнопку "Добавить в корзину" товар добавляется в корзину.
Содержимое корзины отображается в модальном окне:
Список товаров с их количеством и ценой.
Итоговая сумма заказа.
Возможность удалить товар из корзины.
Оформление заказа:

После подтверждения содержимого корзины пользователь вводит контактные данные:
Способ оплаты (наличными или картой).
Адрес доставки, email и номер телефона.
После нажатия "Оплатить" появляется сообщение об успешном оформлении заказа.

Описание базовых классов

1. EventEmitter

Описание:
Класс обеспечивает работу событий.

Функции:

Установка слушателей событий (on метод).
Снятие слушателей событий (off метод).
Вызов слушателей при возникновении события (emit метод).

2. BasketModel

Описание:
Класс представляет собой модель корзины.

Функции:
Хранит список товаров в корзине.
Добавляет товар в корзину (add метод).
Удаляет товар из корзины (remove метод).
Уведомляет о любых изменениях через событие basket:change.

3. CatalogModel

Описание:
Класс представляет модель каталога товаров.

Функции:
Хранит список товаров, полученных из API.
Предоставляет возможность получить данные конкретного товара (getProduct метод).
Обновляет список товаров (setItems метод).

4. BasketItemView

Описание:
Компонент отображает элемент корзины.

Функции:
Обновляет интерфейс в соответствии с данными товара (render метод).
Устанавливает обработчики событий на кнопки добавления и удаления товара из корзины.

5. BasketView

Описание:
Компонент отображает список товаров в корзине.

Функции:
Заменяет содержимое контейнера новыми элементами корзины (render метод).

6. ShopAPI

Описание:
Обеспечивает взаимодействие с внешним API для получения данных каталога.

Функции:
Запрос данных каталога (getCatalog метод).

Описание компонентов

1. Компонент BasketItemView

Описание: Отображает информацию о конкретном товаре в корзине, включая кнопки для добавления и удаления товара.

Связи:

Взаимодействует с BasketModel через события ui:basket-add и ui:basket-remove.

Использует контейнер DOM для отображения.

2. Компонент BasketView

Описание: Отображает список товаров в корзине.

Связи:

Получает данные от BasketModel.

Генерирует элементы BasketItemView.

3. Компонент CatalogModel

Описание: Хранит данные о товарах и предоставляет их для рендеринга.

Связи:

Взаимодействует с API для получения данных.
Предоставляет данные компонентам BasketItemView и BasketView через метод getProduct.
Архитектура проекта

Основные части:

Модели:

Хранят данные и обеспечивают их управление.
Например, BasketModel и CatalogModel.

Представления (Views):

Отвечают за отображение данных на экране.
Например, BasketView и BasketItemView.

API:

Обеспечивает получение данных для приложения.
Например, класс ShopAPI.
События:
Используются для взаимодействия между компонентами.
Например, EventEmitter управляет событиями добавления и удаления товаров.

Зачем нужны эти части:

Модели: Отделяют данные от логики отображения.

Представления: Упрощают обновление интерфейса.

События: Обеспечивают декомпозицию логики и простоту взаимодействия между компонентами.

Взаимодействие частей:

При изменении данных в модели (например, добавление товара в корзину) генерируется событие.

Слушатели событий обновляют представления (рендеринг).

Данные в приложении:

Типы данных:

IProduct: данные товара (id, название, цена, категория и т.д.).

IBasketModel: данные корзины (id товара, количество, цена).

IContactForm: контактная информация пользователя (адрес, email, телефон, метод оплаты).

Пример процесса

Пользователь нажимает кнопку "Добавить в корзину".

Компонент BasketItemView вызывает событие ui:basket-add.

Слушатель события обновляет данные в BasketModel.

BasketModel генерирует событие basket:change.

Слушатель события вызывает рендеринг через BasketView.

